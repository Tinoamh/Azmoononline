{% extends "base.html" %}
{% load static %}
{% block title %}پروفایل آزمون‌دهنده{% endblock %}
{% block extra_css %}
<style>
  .exam-profile { display: flex; justify-content: center; padding: 24px; }
  .profile-frame { width: 920px; max-width: 95vw; border: none; border-radius: 16px; background: transparent; padding: 50px; }
  .profile-card { background: #fff; border-radius: 15px; padding: 30px; box-shadow: 0 0 15px rgba(0,0,0,0.1); }
  .profile-header { display:flex; align-items:center; justify-content: space-between; margin-bottom: 12px; }
  .profile-title { font-weight: 700; color: #2d3a6b; }
  .profile-avatar { width: 80px; height: 80px; border-radius: 50%; background: #9ecbff; display:flex; align-items:center; justify-content:center; box-shadow: 0 0 10px rgba(0,0,0,0.08); }
  .profile-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 16px; }
  .field { display:flex; flex-direction:column; gap: 10px; }
  .field label { font-size: 13px; color:#5b6b8f; }
  .field input, .field select, .field textarea { height: 44px; border: 1px solid #ddd; border-radius: 8px; padding: 0 6px; background: #fff; text-align: right; }
  .actions { display:flex; justify-content:center; margin-top: 24px; }
  .btn-save { background:#3d5afe; color:#fff; border:none; padding: 10px 22px; border-radius: 8px; cursor:pointer; font-weight:700; }
  .btn-save:hover { background:#2f49d1; }
  .meta { display:flex; gap:12px; align-items:center; color:#6b7aa6; font-size:13px; }
  @media (max-width: 768px){ .profile-grid { grid-template-columns: 1fr; } }
  /* Override avatar and button colors to match login theme */
  .profile-avatar { background: #3A6CF4 !important; color: #fff !important; }
  .btn-save { background:#3A6CF4 !important; }
  .btn-save:hover { background:#2E56D0 !important; }
</style>
{% endblock %}

{% block content %}
<section class="exam-profile">
  <div class="profile-frame">
    <h2 style="text-align:right; margin-bottom:8px;">پروفایل آزمون‌دهنده</h2>
    <hr style="border:none; border-top:1px solid #d7e0f3; margin: 8px 0 16px 0;" />
    <div class="profile-card">
      <div class="profile-header">
        <div class="meta">
          <span class="pill">اطلاعات پایه</span>
        </div>
        <div class="profile-avatar">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48" fill="currentColor">
            <path d="M12 12c2.7 0 4.8-2.1 4.8-4.8S14.7 2.4 12 2.4 7.2 4.5 7.2 7.2 9.3 12 12 12zm0 2.4c-3.2 0-9.6 1.6-9.6 4.8v2.4h19.2v-2.4c0-3.2-6.4-4.8-9.6-4.8z"/>
          </svg>
        </div>
      </div>

      <form method="post" class="form">
        {% csrf_token %}
        <div class="profile-grid">
          <div class="field">
            <label>نام</label>
            {{ form.first_name }}
          </div>
          <div class="field">
            <label>نام خانوادگی</label>
            {{ form.last_name }}
          </div>
          <div class="field">
            <label>ایمیل</label>
            {{ form.email }}
          </div>
          <div class="field">
            <label>موبایل</label>
            {{ form.phone }}
          </div>
          <div class="field">
            <label>نقش</label>
            <input type="text" value="{% if user.role %}{{ user.role.name }}{% else %}—{% endif %}" disabled />
          </div>
          <div class="field">
            <label>نام کاربری</label>
            <input type="text" value="{{ user.username }}" disabled />
          </div>
        </div>
        <div class="actions">
          <button type="submit" class="btn-save">ثبت</button>
        </div>
      </form>
    </div>
  </div>
</section>
{% endblock %}