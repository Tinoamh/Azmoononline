{% extends "base.html" %}
{% load static %}
{% block title %}پروفایل آزمون‌دهنده{% endblock %}
{% block extra_css %}
<style>
  .exam-profile { display: flex; justify-content: center; padding: 24px; }
  /* Outer frame with blue border like mock */
  .profile-frame { width: 920px; max-width: 95vw; border: 8px solid #9ecbff; border-radius: 16px; background: #f2f8ff; padding: 32px; box-shadow: 0 10px 24px rgba(105,168,255,0.25); }

  /* Inner card with light blue background */
  .profile-card { background: #eaf6ff; border: 1px solid #cfe6ff; border-radius: 15px; padding: 30px; box-shadow: 0 6px 18px rgba(0,0,0,0.06); }

  .profile-header { display:flex; align-items:center; justify-content: space-between; margin-bottom: 12px; }
  .profile-title { font-weight: 700; color: #2d3a6b; }
  .pill { display:inline-block; padding: 6px 12px; border-radius:999px; background:#e7f1ff; border:1px solid #cfe0ff; color:#2d3a6b; font-weight:700; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }

  .profile-avatar { width: 80px; height: 80px; border-radius: 50%; background: #3A6CF4; color:#fff; display:flex; align-items:center; justify-content:center; box-shadow: 0 0 10px rgba(0,0,0,0.08); }

  .profile-grid { display:grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 16px; }
  .field { display:flex; flex-direction:column; gap: 10px; }
  .field label { font-size: 13px; color:#5b6b8f; }
  /* Inputs style */
  .field .input, .field input, .field select, .field textarea { height: 44px; border: 1px solid #cfe0ff; border-radius: 10px; padding: 0 6px; background: #fff; text-align: right; box-shadow: inset 0 0 0 1px rgba(61,90,254,0.06); }

  .actions { display:flex; justify-content:center; margin-top: 24px; }
  .btn-save { background:#3A6CF4; color:#fff; border:none; padding: 10px 22px; border-radius: 10px; cursor:pointer; font-weight:700; box-shadow: 0 6px 14px rgba(58,108,244,0.25); }
  .btn-save:hover { background:#2E56D0; }
  .meta { display:flex; gap:12px; align-items:center; color:#6b7aa6; font-size:13px; }

  /* Page header styling */
  .page-header { text-align: right; margin-bottom: 16px; background: #fff; border: 1px solid #d7e0f3; border-radius: 12px; padding: 14px 16px; box-shadow: 0 8px 16px rgba(0,0,0,0.04); }
  .page-title { margin: 0; font-size: 22px; font-weight: 800; color: #2d3a6b; }
  .page-divider { height: 2px; margin-top: 10px; border-radius: 2px; background: linear-gradient(90deg, #9ecbff, #3A6CF4); }

  /* Header actions styled as buttons */
  .page-top { display:flex; justify-content:flex-start; gap:10px; padding: 12px 16px; background: transparent; border-bottom: none; direction: rtl; }
  .top-actions { display:flex; gap:10px; }
  .top-actions .pill { padding: 8px 16px; }

  @media (max-width: 768px){ .profile-grid { grid-template-columns: 1fr; } }
</style>
{% endblock %}

{% block header %}
<header class="page-top">
  <div class="top-actions">
    <a class="pill" href="/">صفحه اصلی</a>
    <a class="pill" href="/accounts/logout/">خروج</a>
  </div>
</header>
{% endblock %}

{% block content %}
  <section class="exam-profile">
    <div class="profile-frame">
    <header class="page-header">
      <h2 class="page-title">پروفایل آزمون‌دهنده</h2>
      <div class="page-divider"></div>
    </header>
    <div class="profile-card">
      <div class="profile-header">
        <div class="meta">
          <span class="pill">اطلاعات پایه</span>
        </div>
        <div class="profile-avatar">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48" height="48" fill="currentColor">
            <path d="M12 12c2.7 0 4.8-2.1 4.8-4.8S14.7 2.4 12 2.4 7.2 4.5 7.2 7.2 9.3 12 12 12zm0 2.4c-3.2 0-9.6 1.6-9.6 4.8v2.4h19.2v-2.4c0-3.2-6.4-4.8-9.6-4.8z"/>
          </svg>
        </div>
      </div>

      <form method="post" class="form">
        {% csrf_token %}
        <div class="profile-grid">
          <div class="field">
            <label>نام</label>
            {{ form.first_name }}
          </div>
          <div class="field">
            <label>نام خانوادگی</label>
            {{ form.last_name }}
          </div>
          <div class="field">
            <label>ایمیل</label>
            {{ form.email }}
          </div>
          <div class="field">
            <label>موبایل</label>
            {{ form.phone }}
          </div>
          <div class="field">
            <label>نقش</label>
            <input type="text" value="{% if user.role %}{{ user.role.name }}{% else %}—{% endif %}" disabled />
          </div>
          <div class="field">
            <label>نام کاربری</label>
            <input type="text" value="{{ user.username }}" disabled />
          </div>
        </div>
        <div class="actions">
          <button type="submit" class="btn-save">ثبت</button>
        </div>
      </form>
    </div>
  </div>
</section>
{% endblock %}